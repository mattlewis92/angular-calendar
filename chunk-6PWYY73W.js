import{a as T}from"./chunk-SIVC2SE7.js";import{a as Q}from"./chunk-CFSPUUHB.js";import{D as N,c as I,d as x,f,g as M,j as w,m as B,o as H,y as P}from"./chunk-2HQHCNGL.js";import{Ka as p,Kb as s,Mc as j,Nb as z,Nc as L,Ob as S,Pb as A,Rb as F,Ua as E,Yc as q,ad as G,f as k,gd as J,hd as K,ia as C,ja as D,jb as O,lb as W,pb as h,qb as c,rb as v,wb as g,yb as y,zb as m}from"./chunk-ODVXNMMH.js";import"./chunk-RACSJ3AQ.js";function _(a,i,e){let r=M(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,t=I(a,e?.in),o=t.getDay(),V=(i%7+7)%7,u=7-n,d=i<0||i>6?i-(o+u)%7:(V+u)%7-(o+u)%7;return x(t,d,e)}function b(a,i,e){return B(a,-i,e)}function R(a,i){if(a&1){let e=g();s(0,`
  `),c(1,"mwl-calendar-month-view",1),y("eventTimesChanged",function(n){C(e);let t=m();return D(t.eventTimesChanged(n))}),v(),s(2,`
  `)}if(a&2){let e=m();p(),h("viewDate",e.viewDate)("events",e.events)("activeDayIsOpen",!0)("refresh",e.refresh)}}function U(a,i){if(a&1){let e=g();s(0,`
  `),c(1,"mwl-calendar-week-view",2),y("eventTimesChanged",function(n){C(e);let t=m();return D(t.eventTimesChanged(n))}),v(),s(2,`
  `)}if(a&2){let e=m();p(),h("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("validateEventTimesChanged",e.validateEventTimesChanged)}}function X(a,i){if(a&1){let e=g();s(0,`
  `),c(1,"mwl-calendar-day-view",2),y("eventTimesChanged",function(n){C(e);let t=m();return D(t.eventTimesChanged(n))}),v(),s(2,`
  `)}if(a&2){let e=m();p(),h("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("validateEventTimesChanged",e.validateEventTimesChanged)}}var me=(()=>{let i=class i{constructor(){this.view=L.Week,this.viewDate=new Date,this.events=[{start:P(w(new Date),1),end:x(new Date,1),title:"A 3 day event",color:T.blue,allDay:!0,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{start:f(w(_(new Date,3)),2),end:b(f(w(_(new Date,3)),3),1),title:"An short event",color:T.yellow,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{start:f(w(_(new Date,3)),5),end:b(f(w(_(new Date,3)),10),1),title:"A draggable and resizable event",color:T.yellow,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0}],this.refresh=new k,this.validateEventTimesChanged=({event:r,newStart:n,newEnd:t,allDay:o},l=!0)=>{if(r.allDay)return!0;if(delete r.cssClass,!H(n,t))return!1;if(this.events.find(d=>d!==r&&!d.allDay&&(d.start<n&&n<d.end||d.start<t&&n<d.end)))if(l)r.cssClass="invalid-position";else return!1;return!0}}eventTimesChanged(r){if(delete r.event.cssClass,this.validateEventTimesChanged(r,!1)){let{event:n,newStart:t,newEnd:o}=r;n.start=t,n.end=o,this.refresh.next()}}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=E({type:i,selectors:[["mwl-demo-component"]],features:[F([q({provide:j,useFactory:N})])],decls:9,vars:3,consts:[[3,"viewChange","viewDateChange","view","viewDate"],[3,"eventTimesChanged","viewDate","events","activeDayIsOpen","refresh"],[3,"eventTimesChanged","viewDate","events","refresh","validateEventTimesChanged"]],template:function(n,t){if(n&1&&(c(0,"mwl-demo-utils-calendar-header",0),A("viewChange",function(l){return S(t.view,l)||(t.view=l),l})("viewDateChange",function(l){return S(t.viewDate,l)||(t.viewDate=l),l}),v(),s(1,`

`),c(2,"div"),s(3,`
  `),O(4,R,3,4)(5,U,3,4)(6,X,3,4),s(7,`
`),v(),s(8,`
`)),n&2){let o;z("view",t.view)("viewDate",t.viewDate),p(4),W((o=t.view)==="month"?4:o==="week"?5:o==="day"?6:-1)}},dependencies:[Q,G,J,K],styles:[`.invalid-position .cal-event{background-color:#ad2121!important;color:#fff}
`],encapsulation:2,changeDetection:0});let a=i;return a})();export{me as DemoComponent};
