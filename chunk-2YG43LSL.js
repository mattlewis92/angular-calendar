import{a as j}from"./chunk-SIVC2SE7.js";import{D as fe,f as O,j as L}from"./chunk-2HQHCNGL.js";import{$c as ge,Gb as T,Gc as le,Hb as W,Ib as V,Ka as d,Kb as i,Lb as P,Mc as N,Nb as $,Ob as I,Pb as M,Pc as se,Qc as de,Rb as B,Rc as ce,Sb as A,Sc as me,Tb as ee,Ua as H,Ub as F,Uc as ue,Vc as pe,Wb as te,Xa as Y,Xb as ne,Yc as _e,Z as K,Zb as ie,_a as Z,_c as ve,bd as we,ca as b,cd as he,dd as Ce,ed as ye,fd as De,gd as xe,ia as p,ja as _,jb as k,jc as re,lb as z,nb as w,ob as h,pb as v,qb as c,rb as m,sb as D,ua as Q,uc as ae,va as G,wb as f,wc as oe,xa as X,yb as C,zb as u}from"./chunk-ODVXNMMH.js";import{a as y,b as x}from"./chunk-RACSJ3AQ.js";var Ee=(o,a)=>({event:o,calendarId:a}),J=(o,a)=>({x:o,y:a}),ze=o=>({x:o}),Te=()=>({}),We=(o,a,n,e)=>({left:o,right:a,top:n,bottom:e}),Ae=()=>({left:!0,top:!0}),Re=()=>({right:!0,bottom:!0}),He=(o,a)=>a.hours[0]?a.hours[0].segments[0].date.toISOString():a,q=(o,a)=>a.date.toISOString(),Pe=(o,a)=>a.id,Ve=(o,a)=>a.event.id??a.event,Fe=(o,a)=>a.segments[0].date.toISOString();function $e(o,a){if(o&1&&(i(0,`
      `),c(1,"div",8),i(2,`
        `),c(3,"b"),i(4),m(),i(5,`
      `),m(),i(6,`
    `)),o&2){let n=a.$implicit;d(4),P(n.name)}}function Ie(o,a){if(o&1){let n=f();i(0,`
          `),c(1,"div",11),C("drop",function(t){let r=p(n).$implicit,l=u(2);return _(l.eventDropped(t,r.date,!0))})("dragEnter",function(){let t=p(n).$implicit,r=u(2);return _(r.dateDragEnter(t.date))}),m(),i(2,`
        `)}}function Me(o,a){if(o&1){let n=f();i(0,`
            `),c(1,"div",13,3),C("dragStart",function(){let t=p(n).$implicit,r=T(2);u();let l=T(2),s=u(2);return _(s.dragStarted(l,r,t,!1))})("dragging",function(){p(n);let t=u(3);return _(t.allDayEventDragMove())})("dragEnd",function(t){let r=p(n).$implicit,l=u(3);return _(l.dragEnded(r,t,l.dayColumnWidth))}),i(3,`
              `),c(4,"mwl-calendar-week-view-event",14),C("eventClicked",function(t){let r=p(n).$implicit,l=u(3);return _(l.eventClicked.emit({event:r.event,sourceEvent:t.sourceEvent}))}),m(),i(5,`
            `),m(),i(6,`
          `)}if(o&2){let n=a.$implicit,e=u(3);d(),W("width",100/e.users.length*n.span,"%")("margin-left",100/e.users.length*n.offset,"%"),V("cal-draggable",n.event.draggable&&e.allDayEventResizes.size===0)("cal-starts-within-week",!n.startsBeforeWeek)("cal-ends-within-week",!n.endsAfterWeek),v("ngClass",n.event==null?null:n.event.cssClass)("dropData",F(25,Ee,n.event,e.calendarId))("dragAxis",F(28,J,n.event.draggable&&e.allDayEventResizes.size===0,!e.snapDraggedEvents&&n.event.draggable&&e.allDayEventResizes.size===0))("dragSnapGrid",e.snapDraggedEvents?ee(31,ze,e.dayColumnWidth):A(33,Te))("validateDrag",e.validateDrag),d(3),v("locale",e.locale)("weekEvent",n)("tooltipPlacement",e.tooltipPlacement)("tooltipTemplate",e.tooltipTemplate)("tooltipAppendToBody",e.tooltipAppendToBody)("tooltipDelay",e.tooltipDelay)("customTemplate",e.eventTemplate)("eventTitleTemplate",e.eventTitleTemplate)("eventActionsTemplate",e.eventActionsTemplate)("daysInWeek",e.daysInWeek)}}function Be(o,a){if(o&1&&(i(0,`
        `),c(1,"div",12,2),i(3,`
          `),w(4,Me,7,34,null,null,Ve),m(),i(6,`
      `)),o&2){let n=a.$implicit;d(4),h(n.row)}}function Oe(o,a){if(o&1){let n=f();i(0,`
    `),c(1,"div",9,1),C("dragEnter",function(){p(n);let t=u();return _(t.dragEnter("allDay"))})("dragLeave",function(){p(n);let t=u();return _(t.dragLeave("allDay"))}),i(3,`
      `),c(4,"div",7),i(5,`
        `),D(6,"div",10),i(7,`
        `),w(8,Ie,3,0,null,null,q),m(),i(10,`
      `),w(11,Be,7,0,null,null,Pe),m(),i(13,`
  `)}if(o&2){let n=u();d(6),v("ngTemplateOutlet",n.allDayEventsLabelTemplate),d(2),h(n.days),d(3),h(n.view.allDayEventRows)}}function Le(o,a){if(o&1&&(i(0,`
              `),D(1,"mwl-calendar-week-view-hour-segment",17),i(2,`
            `)),o&2){let n=a.$implicit,e=u(3);d(),W("height",e.hourSegmentHeight,"px"),v("segment",n)("segmentHeight",e.hourSegmentHeight)("locale",e.locale)("customTemplate",e.hourSegmentTemplate)("isTimeLabel",!0)}}function Ne(o,a){if(o&1&&(i(0,`
          `),c(1,"div",16),i(2,`
            `),w(3,Le,3,7,null,null,q),m(),i(5,`
        `)),o&2){let n=a.$implicit,e=a.$index;d(),V("cal-hour-odd",e%2!==0),d(2),h(n.segments)}}function Ue(o,a){if(o&1&&(i(0,`
      `),c(1,"div",15),i(2,`
        `),w(3,Ne,6,2,null,null,Fe),m(),i(5,`
    `)),o&2){let n=u();d(3),h(n.view.hourColumns[0].hours)}}function Ge(o,a){o&1&&(i(0,`
                `),D(1,"div",22),i(2,`
              `)),o&2&&(d(),v("resizeEdges",A(1,Ae)))}function je(o,a){o&1&&(i(0,`
                `),D(1,"div",23),i(2,`
              `)),o&2&&(d(),v("resizeEdges",A(1,Re)))}function Je(o,a){if(o&1){let n=f();i(0,`
            `),c(1,"div",20,3),C("resizeStart",function(t){let r=p(n).$implicit,l=u(2),s=T(12);return _(l.timeEventResizeStarted(s,r,t))})("resizing",function(t){let r=p(n).$implicit,l=u(2);return _(l.timeEventResizing(r,t))})("resizeEnd",function(){let t=p(n).$implicit,r=u(2);return _(r.timeEventResizeEnded(t))})("dragStart",function(){let t=p(n).$implicit,r=T(2),l=u(2),s=T(12);return _(l.dragStarted(s,r,t,!0))})("dragging",function(t){let r=p(n).$implicit,l=u(2);return _(l.dragMove(r,t))})("dragEnd",function(t){let r=p(n).$implicit,l=u(2);return _(l.dragEnded(r,t,l.dayColumnWidth,!0))}),i(3,`
              `),k(4,Ge,3,2),c(5,"mwl-calendar-week-view-event",21),C("eventClicked",function(t){let r=p(n).$implicit,l=u(2);return _(l.eventClicked.emit({event:r.event,sourceEvent:t.sourceEvent}))}),m(),i(6,`
              `),k(7,je,3,2),m(),i(8,`
          `)}if(o&2){let n=a.$implicit,e=u().$implicit,t=u();d(),W("top",n.top,"px")("height",n.height,"px")("left",n.left,"%")("width",n.width,"%"),V("cal-draggable",n.event.draggable&&t.timeEventResizes.size===0)("cal-starts-within-day",!n.startsBeforeDay)("cal-ends-within-day",!n.endsAfterDay),v("ngClass",n.event.cssClass)("hidden",n.height===0&&n.width===0)("resizeSnapGrid",te(37,We,t.dayColumnWidth,t.dayColumnWidth,t.eventSnapSize||t.hourSegmentHeight,t.eventSnapSize||t.hourSegmentHeight))("validateResize",t.validateResize)("allowNegativeResizes",!0)("dropData",F(42,Ee,n.event,t.calendarId))("dragAxis",F(45,J,n.event.draggable&&t.timeEventResizes.size===0,n.event.draggable&&t.timeEventResizes.size===0))("dragSnapGrid",t.snapDraggedEvents?F(48,J,t.dayColumnWidth,t.eventSnapSize||t.hourSegmentHeight):A(51,Te))("ghostDragEnabled",!t.snapDraggedEvents)("validateDrag",t.validateDrag),d(3),z(!(n.event==null||n.event.resizable==null)&&n.event.resizable.beforeStart&&!n.startsBeforeDay?4:-1),d(),v("locale",t.locale)("weekEvent",n)("tooltipPlacement",t.tooltipPlacement)("tooltipTemplate",t.tooltipTemplate)("tooltipAppendToBody",t.tooltipAppendToBody)("tooltipDisabled",t.dragActive||t.timeEventResizes.size>0)("tooltipDelay",t.tooltipDelay)("customTemplate",t.eventTemplate)("eventTitleTemplate",t.eventTitleTemplate)("eventActionsTemplate",t.eventActionsTemplate)("column",e),d(2),z(!(n.event==null||n.event.resizable==null)&&n.event.resizable.afterEnd&&!n.endsAfterDay?7:-1)}}function qe(o,a){if(o&1){let n=f();i(0,`
                `),c(1,"mwl-calendar-week-view-hour-segment",24),C("mwlClick",function(t){let r=p(n).$implicit,l=u(3);return _(l.hourSegmentClicked.emit({date:r.date,sourceEvent:t}))})("drop",function(t){let r=p(n).$implicit,l=u(3);return _(l.eventDropped(t,r.date,!1))}),m(),i(2,`
              `)}if(o&2){let n=a.$implicit,e=u(3);d(),W("height",e.hourSegmentHeight,"px"),v("segment",n)("segmentHeight",e.hourSegmentHeight)("locale",e.locale)("customTemplate",e.hourSegmentTemplate)("clickListenerDisabled",!e.hourSegmentClicked.observed)("dragOverClass",!e.dragActive||!e.snapDraggedEvents?"cal-drag-over":null)}}function Ke(o,a){if(o&1&&(i(0,`
            `),c(1,"div",16),i(2,`
              `),w(3,qe,3,8,null,null,q),m(),i(5,`
          `)),o&2){let n=a.$implicit,e=a.$index;d(),V("cal-hour-odd",e%2!==0),d(2),h(n.segments)}}function Qe(o,a){if(o&1&&(i(0,`
        `),c(1,"div",18),i(2,`
          `),D(3,"mwl-calendar-week-view-current-time-marker",19),i(4,`
          `),w(5,Je,9,52,null,null,Ve),w(7,Ke,6,2,null,null,Fe),m(),i(9,`
      `)),o&2){let n=a.$implicit,e=u();d(3),v("columnDate",n.date)("dayStartHour",e.dayStartHour)("dayStartMinute",e.dayStartMinute)("dayEndHour",e.dayEndHour)("dayEndMinute",e.dayEndMinute)("hourSegments",e.hourSegments)("hourSegmentHeight",e.hourSegmentHeight)("customTemplate",e.currentTimeMarkerTemplate),d(2),h(n.events),d(2),h(n.hours)}}var Se=(()=>{let a=class a extends pe{getWeekView(e){let{period:t}=super.getWeekView(e),r={period:t,allDayEventRows:[],hourColumns:[],users:[...e.users]};return r.users.forEach((l,s)=>{let S=e.events.filter(E=>E.meta.user.id===l.id),R=super.getWeekView(x(y({},e),{events:S}));r.hourColumns.push(R.hourColumns[0]),R.allDayEventRows.forEach(({row:E},U)=>{r.allDayEventRows[U]=r.allDayEventRows[U]||{row:[]},r.allDayEventRows[U].row.push(x(y({},E[0]),{offset:s,span:1}))})}),r}};a.\u0275fac=(()=>{let e;return function(r){return(e||(e=G(a)))(r||a)}})(),a.\u0275prov=K({token:a,factory:a.\u0275fac});let o=a;return o})(),be=(()=>{let a=class a extends xe{constructor(){super(...arguments),this.users=[],this.userChanged=new Z,this.daysInWeek=1,this.cdr=b(re),this.utils=b(Se),this.dateAdapter=b(N),this.element=b(X),this.trackByUserId=(e,t)=>t.id}ngOnChanges(e){super.ngOnChanges(e),e.users&&(this.refreshBody(),this.emitBeforeViewRender())}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.users.length)}dragMove(e,t){if(this.snapDraggedEvents){let r=this.getDraggedUserColumn(e,t.x),l=this.getDragMovedEventTimes(e,x(y({},t),{x:0}),this.dayColumnWidth,!0),s=e.event,S=x(y(y({},s),l),{meta:x(y({},s.meta),{user:r})}),R=this.events.map(E=>E===s?S:E);this.restoreOriginalEvents(R,new Map([[S,s]]))}this.dragAlreadyMoved=!0}dragEnded(e,t,r,l=!1){super.dragEnded(e,x(y({},t),{x:0}),r,l);let s=this.getDraggedUserColumn(e,t.x);s&&s!==e.event.meta.user&&this.userChanged.emit({event:e.event,newUser:s})}getWeekView(e){return this.utils.getWeekView(y({events:e,users:this.users,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},se(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDraggedUserColumn(e,t){let r=Math.round(t/this.dayColumnWidth),s=this.view.users.findIndex(S=>S===e.event.meta.user)+r;return this.view.users[s]}};a.\u0275fac=(()=>{let e;return function(r){return(e||(e=G(a)))(r||a)}})(),a.\u0275cmp=H({type:a,selectors:[["mwl-day-view-scheduler"]],inputs:{users:"users"},outputs:{userChanged:"userChanged"},features:[B([Se]),Y,Q],decls:19,vars:4,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["role","grid",1,"cal-week-view"],["role","row",1,"cal-day-headers"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],[1,"cal-day-columns"],["tabindex","0","role","columnheader",1,"cal-header"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"dragStart","dragging","dragEnd","ngClass","dropData","dragAxis","dragSnapGrid","validateDrag"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],[1,"cal-time-label-column"],[1,"cal-hour"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourSegmentHeight","customTemplate"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","segment","segmentHeight","locale","customTemplate","clickListenerDisabled","dragOverClass"]],template:function(t,r){if(t&1){let l=f();c(0,"div",4),i(1,`
  `),c(2,"div",5),i(3,`
    `),w(4,$e,7,1,null,null,r.trackByUserId,!0),m(),i(6,`
  `),k(7,Oe,14,1),c(8,"div",6),C("dragEnter",function(){return p(l),_(r.dragEnter("time"))})("dragLeave",function(){return p(l),_(r.dragLeave("time"))}),i(9,`
    `),k(10,Ue,6,0),c(11,"div",7,0),i(13,`
      `),w(14,Qe,10,8,null,null,He),m(),i(16,`
  `),m(),i(17,`
`),m(),i(18,`
`)}t&2&&(d(4),h(r.users),d(3),z(r.view.allDayEventRows.length>0?7:-1),d(3),z(r.view.hourColumns.length>0?10:-1),d(),V("cal-resize-active",r.timeEventResizes.size>0),d(3),h(r.view.hourColumns))},dependencies:[ge,oe,ve,ae,Ce,ye,De,we,he,le],encapsulation:2});let o=a;return o})();var g=[{id:0,name:"John smith",color:j.yellow},{id:1,name:"Jane Doe",color:j.blue}],pt=(()=>{let a=class a{constructor(){this.viewDate=new Date,this.users=g,this.events=[{title:"An event",color:g[0].color,start:O(L(new Date),5),meta:{user:g[0]},resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{title:"Another event",color:g[1].color,start:O(L(new Date),2),meta:{user:g[1]},resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{title:"A 3rd event",color:g[0].color,start:O(L(new Date),7),meta:{user:g[0]},resizable:{beforeStart:!0,afterEnd:!0},draggable:!0},{title:"An all day event",color:g[0].color,start:new Date,meta:{user:g[0]},draggable:!0,allDay:!0},{title:"Another all day event",color:g[1].color,start:new Date,meta:{user:g[1]},draggable:!0,allDay:!0},{title:"A 3rd all day event",color:g[0].color,start:new Date,meta:{user:g[0]},draggable:!0,allDay:!0}]}eventTimesChanged({event:e,newStart:t,newEnd:r}){e.start=t,e.end=r,this.events=[...this.events]}userChanged({event:e,newUser:t}){e.color=t.color,e.meta.user=t,this.events=[...this.events]}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=H({type:a,selectors:[["mwl-demo-component"]],features:[B([_e({provide:N,useFactory:fe})])],decls:29,vars:12,consts:[[1,"row"],[1,"col-md-6"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"viewDateChange","view","viewDate"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDateChange","viewDate"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"viewDateChange","view","viewDate"],[1,"col-md-6","text-right"],[3,"eventTimesChanged","userChanged","viewDate","events","users"]],template:function(t,r){t&1&&(c(0,"div",0),i(1,`
  `),c(2,"div",1),i(3,`
    `),c(4,"div",2),i(5,`
      `),c(6,"div",3),M("viewDateChange",function(s){return I(r.viewDate,s)||(r.viewDate=s),s}),i(7,`
        Previous
      `),m(),i(8,`
      `),c(9,"div",4),M("viewDateChange",function(s){return I(r.viewDate,s)||(r.viewDate=s),s}),i(10,`
        Today
      `),m(),i(11,`
      `),c(12,"div",5),M("viewDateChange",function(s){return I(r.viewDate,s)||(r.viewDate=s),s}),i(13,`
        Next
      `),m(),i(14,`
    `),m(),i(15,`
  `),m(),i(16,`
  `),c(17,"div",6),i(18,`
    `),c(19,"h3"),i(20),ne(21,"calendarDate"),m(),i(22,`
  `),m(),i(23,`
`),m(),i(24,`
`),D(25,"br"),i(26,`

`),c(27,"mwl-day-view-scheduler",7),C("eventTimesChanged",function(s){return r.eventTimesChanged(s)})("userChanged",function(s){return r.userChanged(s)}),m(),i(28,`
`)),t&2&&(d(6),v("view","day"),$("viewDate",r.viewDate),d(3),$("viewDate",r.viewDate),d(3),v("view","day"),$("viewDate",r.viewDate),d(8),P(ie(21,9,r.viewDate,"dayViewTitle")),d(7),v("viewDate",r.viewDate)("events",r.events)("users",r.users))},dependencies:[de,me,ce,be,ue],encapsulation:2,changeDetection:0});let o=a;return o})();export{pt as DemoComponent};
